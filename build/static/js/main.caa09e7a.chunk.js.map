{"version":3,"sources":["Components/Header.js","spotifySearch.js","Components/Card.js","Components/SpotifyPlayer.js","Components/CartItem.js","Components/Cart.js","Components/Search.js","spotifylogowhite.png","Components/Login.js","Components/Contacts.js","App.js","index.js"],"names":["Header","className","to","query","a","hash","window","location","urlParams","URLSearchParams","token","get","fetch","method","mode","headers","Headers","catch","err","alert","search","json","data","console","log","albums","items","map","album","Object","assign","id","artist","artists","name","year","release_date","slice","uri","cover","images","url","price","parseFloat","replace","spotifySearch","Card","props","src","alt","onClick","addToCart","Player","title","currAlbum","width","height","frameborder","allowtransparency","allow","CartItem","value","onChange","increment","decrement","type","cancel","Cart","cart","length","filter","item","quantity","e","sum","total","reduce","b","Math","round","sumQuantity","Search","useState","setQuery","setData","setAlbum","setCart","handleSubmit","preventDefault","searchResults","newState","prevState","onSubmit","target","placeholder","splitUri","split","playAlbum","albumToBuy","albumId","newCart","deleteAlbum","Login","originUrl","href","redirectUrl","encodeURI","authUrl","spotifyLogo","Contacts","App","basename","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.caa09e7a.chunk.js","sourcesContent":["import React from 'react'\nimport { BrowserRouter, Switch, Route, Router, Link } from \"react-router-dom\";\nfunction Header() {\n  return (\n    <div>\n      <header>\n        <h1>RecordStore</h1>\n        <ul className=\"navBar\">\n\n          <li><Link className='link' to=\"/callback\">Store</Link></li>\n\n          <li><Link className='link' to=\"/contacts\">Contacts</Link></li>\n        </ul>\n      </header>\n    <div className='line'></div>\n    </div>\n  );\n}\n\nexport default Header","async function spotifySearch (query){\n  \nconst hash = window.location.hash\nconst urlParams = new URLSearchParams(hash)\n\n  const token = urlParams.get('#access_token');\n  const search = await fetch(`https://api.spotify.com/v1/search?q=${query}&type=album&limit=50`,{\n    method: 'GET', // *GET, POST, PUT, DELETE, etc.\n    mode: 'cors', // no-cors, *cors, same-origin\n    headers: new Headers({\n      'Authorization': 'Bearer '+token,\n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  }).catch( err => {\n      alert('Expired Session')\n  })\n  const data = await search.json()\n  console.log(data)\n  const albums = !data.albums ? window.location.replace('../') :[...data.albums.items.map( album =>{\n    return Object.assign({},{\n        id: album.id,\n        artist: album.artists[0].name,\n        album: album.name,\n        year: album.release_date.slice(0,4),\n        uri: album.uri,\n        cover: album.images[1].url,\n        price: parseFloat(album.release_date.slice(0,4))*0.01\n        })\n    }\n  )]\n  return  albums\n}\n\nexport default spotifySearch","import React from \"react\";\n\nfunction Card(props) {\n  return (\n    <div className=\"card\">\n      <div className=\"containPlay\">\n        <img src={props.src} alt={`${props.name} album cover`} />\n        <div className=\"play\" onClick={props.onClick}>\n          <div className=\"circle\">\n            <div className=\"playIcon\"></div>\n          </div>\n        </div>\n      </div>\n      <div className=\"cardInfo\">\n        <div className=\"titleContain\">\n          <h2 className=\"cardTitle\">{props.name}</h2>\n          <h3>{props.price}€</h3>\n          <h3>{`by ${props.artist}`}</h3>\n        </div>\n      </div>\n      <button onClick={props.addToCart}>Add to cart</button>\n    </div>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\n\nfunction Player(props) {\n  return (\n    <div>\n      <iframe\n        title=\"spotifyPlayer\"\n        id=\"spotify\"\n        src={`https://open.spotify.com/embed/album/${props.currAlbum}`}\n        width=\"350\"\n        height=\"80\"\n        frameborder=\"0\"\n        allowtransparency=\"true\"\n        allow=\"encrypted-media\"\n      ></iframe>\n    </div>\n  );\n}\n\nexport default Player;\n","import React from \"react\";\n\nfunction CartItem(props) {\n\n  return (\n    <div>\n      <div className=\"cartItem\">\n        <img src={props.album.cover} alt={`${props.album.album} album cover`} />\n        <div className=\"cartInfo\">\n          <h3 className=\"cartTitle\">{props.album.album}</h3>\n          <h3> {props.album.price}€ </h3>\n          <form className=\"howMany\">\n            <label>Units:</label>\n            <input value={props.value} onChange={ props.onChange }/>\n            <div className=\"arrowWrap\">\n              <div className=\"arrows up\" onClick={props.increment}></div>\n              <div className=\"arrows down\" onClick={props.decrement}></div>\n            </div>\n            <button type='button' onClick={props.cancel}>Cancel</button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default CartItem;\n","import React from \"react\";\nimport CartItem from \"./CartItem\";\nfunction Cart(props) {\n  const quantitySet = (id) => {\n    const album= props.cart.filter((item) => item.id === id);\n    return album[0].quantity\n  };\n  const sumQuantity = () => {\n    const totalPerAlbum = props.cart.map( item => {\n        item.total = item.price*item.quantity\n        return item\n    })\n    const sum = totalPerAlbum.reduce( (a, b) => a+b.total, 0)\n    return Math.round(sum * 100) / 100\n  }\n  return (\n    <div className=\"cart\">\n      <h2>My Cart</h2>\n      {props.cart.length === 0 ? (\n        <h3 className=\"cartEmpty\">Your cart is empty.</h3>\n      ) : (\n        <div>\n          <div>\n            {props.cart.map((album) => {\n              return (\n                <CartItem\n                  album={album}\n                  value={quantitySet(album.id)}\n                  onChange={(e) => props.onChange(e, album.id)}\n                  increment={() => props.increment(album.id)}\n                  decrement={() => props.decrement(album.id)}\n                  cancel={() => props.cancel(album.id)}\n                />\n              );\n            })}\n            <div className=\"line\"> </div>\n            <h4> TOTAL: <i>{sumQuantity()}€</i></h4>\n            <div className=\"buyBtn\">\n              <button>Buy</button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Cart;\n","import React, { useState } from \"react\";\nimport spotifySearch from \"../spotifySearch\";\nimport Card from \"./Card\";\nimport Player from \"./SpotifyPlayer\";\nimport Cart from \"./Cart\";\n\nfunction Search() {\n  const [query, setQuery] = useState(null);\n  const [data, setData] = useState([]);\n  const [currAlbum, setAlbum] = useState(\"70QLa02zm19XEJAWUwNk4R\");\n  const [cart, setCart] = useState([]);\n\n  const handleChange = (e) => {\n    setQuery(e.target.value);\n  };\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const searchResults = await spotifySearch(query);\n    if (searchResults) {\n      setData(() => [...searchResults]);\n    }\n  }\n\n  const playAlbum = (album) => {\n    const splitUri = album.split(\"album:\");\n    setAlbum(splitUri[1]);\n  }\n  ///////// Cart Controls ////////\n  const increment = (id) => {\n    const newState = cart.map( item => {\n      if(item.id === id){\n        item.quantity = parseFloat(item.quantity) + 1 \n      return item\n      } else { return item }\n    })\n    setCart((prevState) => prevState = [...newState])\n  }\n\n  const decrement = (id) => {\n    const newState = cart.map( item =>{\n      if(item.id === id && item.quantity > 1){ \n       item.quantity = parseFloat(item.quantity) - 1\n      return item\n      } else { return item } \n    })\n    setCart((prevState) =>  \n      prevState = [...newState])\n  };\n  // onChange function\n  const quantityChange = (e, id) => {\n     const newState = cart.map( item =>{\n      if(item.id === id){ \n        item.quantity = e.target.value\n        return item\n      } else { return item} \n    })\n    setCart((prevState) => prevState = [...newState])\n  };\n\n  // Add item or increment quantity in Cart\n  const addToCart = (album) => {\n    const checkForItem = [...cart].filter((item) => item.id === album.id);\n    if (checkForItem.length===0) {\n      const albumToBuy =  Object.assign( album, {quantity: 1} )\n      setCart((prevState) => [...prevState, albumToBuy])\n    } else { increment(album.id)}\n  };\n  // Delete album from Cart\n  const deleteAlbum = (albumId) => {\n    // eslint-disable-next-line array-callback-return\n    const newCart = [...cart].filter((album) => album.id !== albumId);\n    console.log(newCart);\n    setCart((prevState) => (prevState = newCart));\n  };\n\n  return (\n    <div className=\"searchWrapper\">\n      <div>\n        <form onSubmit={handleSubmit} className=\"searchForm\">\n          <input\n            onChange={handleChange}\n            type=\"text\"\n            placeholder=\"Search for album/artist\"\n          />\n          <button type=\"submit\"> Search</button>\n        </form>\n        <ul className=\"searchResults\">\n          {data\n            ? data.map((album) => {\n                return (\n                  <li>\n                    <Card\n                      key={album.id}\n                      onClick={() => playAlbum(album.uri)}\n                      artist={album.artist}\n                      name={album.album}\n                      price={album.price}\n                      src={album.cover}\n                      addToCart={() => addToCart(album)}\n                    />\n                  </li>\n                );\n              })\n            : null}\n        </ul>\n      </div>\n      <div className=\"leftWrap\">\n        <Player currAlbum={currAlbum} />\n        <Cart\n          cart={cart}\n          cancel={(id) => deleteAlbum(id)}\n          onChange={quantityChange}\n          increment={ (id) => increment(id)}\n          decrement={ (id) => decrement(id)}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default Search;\n","export default __webpack_public_path__ + \"static/media/spotifylogowhite.ecd54051.png\";","import React from 'react'\nimport spotifyLogo from '../spotifylogowhite.png'\n\nfunction Login () {\nconst originUrl = window.location.href;\nconst redirectUrl = encodeURI(originUrl+'callback')\nconsole.log(redirectUrl)\nconst authUrl = `https://accounts.spotify.com/authorize?client_id=68c3e415374845b885e86cf8f1cff7d0&redirect_uri=${redirectUrl}&response_type=token`\nreturn(\n    <div className='login'>\n        <div className= 'loginCard'>\n        <h3> Login to your Spotify. </h3>\n        <img src={spotifyLogo} alt='Spotify Logo'/>\n        <button><a href={authUrl}>Spotify Login</a></button>\n        </div>\n    </div>\n    )\n}\n\nexport default Login","import React from 'react'\n\nfunction Contacts () {\nreturn (<div className='contacts'>\n<div className=\"cart\">\n      <h2>Contacts</h2>\n        <h3 className=\"cartEmpty\">Address: Across 110th Street</h3>\n        <h3 className=\"cartEmpty\">Mail: RecordStore21@gmail.com</h3>\n        <h3 className=\"cartEmpty\"> Telephone: +991 234 234 432</h3>\n    </div>\n</div>)\n}\n\nexport default Contacts","import React from 'react'\nimport Header from './Components/Header'\nimport Search from './Components/Search'\nimport Login from './Components/Login'\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport Contacts from './Components/Contacts'\nfunction App (){\n  return (\n  <div>\n  <BrowserRouter basename='/TOP-Record-Store'>\n      <Header />\n      <Switch>\n          <Route path='/callback' component={Search} />\n          <Route path='/contacts' component={Contacts} />\n          <Route path='/' component={Login} />\n      </Switch>\n    </BrowserRouter>\n  </div>\n\n)\n\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(  \n<React.StrictMode>\n    <App />\n  </React.StrictMode> ,\n document.getElementById('root'))"],"sourceRoot":""}