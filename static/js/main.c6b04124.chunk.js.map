{"version":3,"sources":["Components/Header.js","spotifySearch.js","Components/Card.js","Components/SpotifyPlayer.js","Components/CartItem.js","Components/Cart.js","Components/Search.js","spotifylogowhite.png","Components/Login.js","App.js","index.js"],"names":["Header","class","query","a","hash","window","location","urlParams","URLSearchParams","token","get","fetch","method","mode","headers","Headers","catch","err","alert","search","json","data","albums","items","map","album","Object","assign","id","artist","artists","name","year","release_date","slice","uri","cover","images","url","price","parseFloat","replace","spotifySearch","Card","props","className","src","alt","onClick","addToCart","Player","title","currAlbum","width","height","frameborder","allowtransparency","allow","CartItem","value","onChange","increment","decrement","type","cancel","Cart","cart","length","filter","item","quantity","e","sum","total","reduce","b","Math","round","sumQuantity","Search","useState","setQuery","setData","setAlbum","setCart","handleSubmit","preventDefault","searchResults","newState","prevState","onSubmit","target","placeholder","splitUri","split","playAlbum","albumToBuy","albumId","newCart","console","log","deleteAlbum","Login","spotifyLogo","href","App","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c6b04124.chunk.js","sourcesContent":["import React from 'react'\n\nfunction Header() {\n  return (\n    <div>\n      <header>\n        <h1>RecordStore</h1>\n        <ul class=\"navBar\">\n          <li>Lounge</li>\n          <li>Contacts</li>\n        </ul>\n      </header>\n    <div class='line'></div>\n    </div>\n  );\n}\n\nexport default Header","async function spotifySearch (query){\n  \nconst hash = window.location.hash\nconst urlParams = new URLSearchParams(hash)\n\n  const token = urlParams.get('#access_token');\n  const search = await fetch(`https://api.spotify.com/v1/search?q=${query}&type=album&limit=100`,{\n    method: 'GET', // *GET, POST, PUT, DELETE, etc.\n    mode: 'cors', // no-cors, *cors, same-origin\n    headers: new Headers({\n      'Authorization': 'Bearer '+token,\n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  }).catch( err => {\n      alert('Expired Session')\n  })\n  const data = await search.json()\n  const albums = !data.albums ? window.location.replace('http://localhost:3000/') :[...data.albums.items.map( album =>{\n    return Object.assign({},{\n        id: album.id,\n        artist: album.artists[0].name,\n        album: album.name,\n        year: album.release_date.slice(0,4),\n        uri: album.uri,\n        cover: album.images[1].url,\n        price: parseFloat(album.release_date.slice(0,4))*0.01\n        })\n    }\n  )]\n  return  albums\n}\n\nexport default spotifySearch","import React from \"react\";\n\nfunction Card(props) {\n  return (\n    <div className=\"card\">\n      <div className=\"containPlay\">\n        <img src={props.src} alt={`${props.name} album cover`} />\n        <div className=\"play\" onClick={props.onClick}>\n          <div className=\"circle\">\n            <div className=\"playIcon\"></div>\n          </div>\n        </div>\n      </div>\n      <div className=\"cardInfo\">\n        <div className=\"titleContain\">\n          <h2 className=\"cardTitle\">{props.name}</h2>\n          <h3>{props.price}€</h3>\n          <h3>{`by ${props.artist}`}</h3>\n        </div>\n      </div>\n      <button onClick={props.addToCart}>Add to cart</button>\n    </div>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\n\nfunction Player(props) {\n  return (\n    <div>\n      <iframe\n        title=\"spotifyPlayer\"\n        id=\"spotify\"\n        src={`https://open.spotify.com/embed/album/${props.currAlbum}`}\n        width=\"350\"\n        height=\"80\"\n        frameborder=\"0\"\n        allowtransparency=\"true\"\n        allow=\"encrypted-media\"\n      ></iframe>\n    </div>\n  );\n}\n\nexport default Player;\n","import React from \"react\";\n\nfunction CartItem(props) {\n\n  return (\n    <div>\n      <div className=\"cartItem\">\n        <img src={props.album.cover} alt={`${props.album.album} album cover`} />\n        <div className=\"cartInfo\">\n          <h3 className=\"cartTitle\">{props.album.album}</h3>\n          <h3> {props.album.price}€ </h3>\n          <form className=\"howMany\">\n            <label>Units:</label>\n            <input value={props.value} onChange={ props.onChange }/>\n            <div className=\"arrowWrap\">\n              <div className=\"arrows up\" onClick={props.increment}></div>\n              <div className=\"arrows down\" onClick={props.decrement}></div>\n            </div>\n            <button type='button' onClick={props.cancel}>Cancel</button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default CartItem;\n","import React from \"react\";\nimport CartItem from \"./CartItem\";\nfunction Cart(props) {\n  const quantitySet = (id) => {\n    const album= props.cart.filter((item) => item.id === id);\n    return album[0].quantity\n  };\n  const sumQuantity = () => {\n    const totalPerAlbum = props.cart.map( item => {\n        item.total = item.price*item.quantity\n        return item\n    })\n    const sum = totalPerAlbum.reduce( (a, b) => a+b.total, 0)\n    return Math.round(sum * 100) / 100\n  }\n  return (\n    <div className=\"cart\">\n      <h2>My Cart</h2>\n      {props.cart.length === 0 ? (\n        <h3 className=\"cartEmpty\">Your cart is empty.</h3>\n      ) : (\n        <div>\n          <div>\n            {props.cart.map((album) => {\n              return (\n                <CartItem\n                  album={album}\n                  value={quantitySet(album.id)}\n                  onChange={(e) => props.onChange(e, album.id)}\n                  increment={() => props.increment(album.id)}\n                  decrement={() => props.decrement(album.id)}\n                  cancel={() => props.cancel(album.id)}\n                />\n              );\n            })}\n            <div className=\"line\"> </div>\n            <h4> TOTAL: <i>{sumQuantity()}€</i></h4>\n            <div className=\"buyBtn\">\n              <button>Buy</button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Cart;\n","import React, { useState } from \"react\";\nimport spotifySearch from \"../spotifySearch\";\nimport Card from \"./Card\";\nimport Player from \"./SpotifyPlayer\";\nimport Cart from \"./Cart\";\n\nfunction Search() {\n  const [query, setQuery] = useState(null);\n  const [data, setData] = useState([]);\n  const [currAlbum, setAlbum] = useState(\"1DFixLWuPkv3KT3TnV35m3\");\n  const [cart, setCart] = useState([]);\n\n  const handleChange = (e) => {\n    setQuery(e.target.value);\n  };\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const searchResults = await spotifySearch(query);\n    if (searchResults) {\n      setData(() => [...searchResults]);\n    }\n  }\n\n  const playAlbum = (album) => {\n    const splitUri = album.split(\"album:\");\n    setAlbum(splitUri[1]);\n  }\n  ///////// Cart Controls ////////\n  const increment = (id) => {\n    const newState = cart.map( item => {\n      if(item.id === id){\n        item.quantity = parseFloat(item.quantity) + 1 \n      return item\n      } else { return item }\n    })\n    setCart((prevState) => prevState = [...newState])\n  }\n\n  const decrement = (id) => {\n    const newState = cart.map( item =>{\n      if(item.id === id && item.quantity > 1){ \n       item.quantity = parseFloat(item.quantity) - 1\n      return item\n      } else { return item } \n    })\n    setCart((prevState) =>  \n      prevState = [...newState])\n  };\n  // onChange function\n  const quantityChange = (e, id) => {\n     const newState = cart.map( item =>{\n      if(item.id === id){ \n        item.quantity = e.target.value\n        return item\n      } else { return item} \n    })\n    setCart((prevState) => prevState = [...newState])\n  };\n\n  // Add item or increment quantity in Cart\n  const addToCart = (album) => {\n    const checkForItem = [...cart].filter((item) => item.id === album.id);\n    if (checkForItem.length===0) {\n      const albumToBuy =  Object.assign( album, {quantity: 1} )\n      setCart((prevState) => [...prevState, albumToBuy])\n    } else { increment(album.id)}\n  };\n  // Delete album from Cart\n  const deleteAlbum = (albumId) => {\n    // eslint-disable-next-line array-callback-return\n    const newCart = [...cart].filter((album) => album.id !== albumId);\n    console.log(newCart);\n    setCart((prevState) => (prevState = newCart));\n  };\n\n  return (\n    <div className=\"searchWrapper\">\n      <div>\n        <form onSubmit={handleSubmit} className=\"searchForm\">\n          <input\n            onChange={handleChange}\n            type=\"text\"\n            placeholder=\"Search for album/artist\"\n          />\n          <button type=\"submit\"> Search</button>\n        </form>\n        <ul className=\"searchResults\">\n          {data\n            ? data.map((album) => {\n                return (\n                  <li>\n                    <Card\n                      key={album.id}\n                      onClick={() => playAlbum(album.uri)}\n                      artist={album.artist}\n                      name={album.album}\n                      price={album.price}\n                      src={album.cover}\n                      addToCart={() => addToCart(album)}\n                    />\n                  </li>\n                );\n              })\n            : null}\n        </ul>\n      </div>\n      <div className=\"leftWrap\">\n        <Player currAlbum={currAlbum} />\n        <Cart\n          cart={cart}\n          cancel={(id) => deleteAlbum(id)}\n          onChange={quantityChange}\n          increment={ (id) => increment(id)}\n          decrement={ (id) => decrement(id)}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default Search;\n","export default __webpack_public_path__ + \"static/media/spotifylogowhite.ecd54051.png\";","import React from 'react'\nimport spotifyLogo from '../spotifylogowhite.png'\n\nfunction Login () {\nconst authUrl = 'https://accounts.spotify.com/authorize?client_id=68c3e415374845b885e86cf8f1cff7d0&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fcallback&response_type=token'\nreturn(\n    <div className='login'>\n        <div className= 'loginCard'>\n        <h3> Login to your Spotify. </h3>\n        <img src={spotifyLogo} alt='Spotify Logo'/>\n        <button><a href={authUrl}>Spotify Login</a></button>\n        </div>\n    </div>\n    )\n}\n\nexport default Login","import React from 'react'\nimport Header from './Components/Header'\nimport Search from './Components/Search'\nimport Login from './Components/Login'\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nfunction App (){\n  return (\n  <div>\n  <BrowserRouter>\n      <Header />\n      <Switch>\n          <Route path=\"/callback\" component={Search} />\n          <Route path='/' component={Login}></Route>\n      </Switch>\n    </BrowserRouter>\n  </div>\n\n)\n\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(  \n<React.StrictMode>\n    <App />\n  </React.StrictMode> ,\n document.getElementById('root'))"],"sourceRoot":""}